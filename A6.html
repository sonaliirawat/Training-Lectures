<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <caption>Tally Ledgers</caption>
  <tr>
    <th width="60">Head</th>
    <th width="5">DR/CR</th>
    <th width="15">Amount</th>
  </tr>
  <tr>
    <td><input class="tally" type="tally" id="tally" name="tally" placeholder="tally"></td>
    <td>
      <select id="cr_dr" name="cr_dr">
        <option value="">Select Credit Or Debit</option>
        <option value="+">CR</option>
        <option value="-">DR</option>
      </select>
    </td>
    <td width="15"><input class="txt" type="text" id="amount" name="amount" placeholder="Amount"></td>
  </tr>
  <tr>
    <td><input class="tally1" type="tally1" id="tally1" name="tally1" placeholder="tally1"></td>
    <td>
      <select id="cr_dr1" name="cr_dr1">
        <option value="">Select Credit Or Debit</option>
        <option value="+">CR</option>
        <option value="-">DR</option>
      </select>
    </td>
    <td width="15"><input class="txt" type="text" id="amount1" name="amount1" placeholder="Amount1"></td>
  </tr>
  <tr id="summation">
    <td>&nbsp;</td>
    <td align="right">Total :</td>
    <td align="center"><output type="text" id="sum" name="sum" value="sum">0</output></td>
  </tr>
  </table>
  <script src="jquery-3.6.0.min.js"></script>
  <script>
    $(document).ready(function () {
      //iterate through each textboxes and add keyup
      //handler to trigger sum event
      $(".txt").each(function () {
        $(this).keyup(function () {
          calculateSum();
        });
      });
    });

    function calculateSum() {
      var sum = 0;
      //iterate through each textboxes and add the values
      $(".txt").each(function () {
        //add only if the value is number
        if ($(this).val() != "") {
          sum += parseFloat(this.value);
        }
      });
      //.toFixed() method will roundoff the final sum to 2 decimal places
      $("#sum").html(sum.toFixed(2));
    }
    const calculateSum = function () {
      var sum = 0;
      //iterate through each textboxes and add the values
      $(".txt").each(function () {
        let val = isNaN(this.value) || this.value.trim().length === 0 ? 0 : +this.value; // cast to number
        const drcr = $(this).closest("tr").find("[name^=cr_dr]").val(); // name begins with cr_dr
        sum += val * (drcr === "-" ? -1 : 1); // ternary based on the value
        $(this).toggleClass("neg", drcr === "-"); // remove if you do not want this
      });
      //.toFixed() method will roundoff the final sum to 2 decimal places
      $("#sum")
        .val(sum.toFixed(2))
        .toggleClass("neg", sum < 0); // remove if you do not want this

    }

    $(function () {
      $(".txt").on("input", calculateSum);
      $("select").on("change", calculateSum);
    });





















  </script>












</body>

</html>